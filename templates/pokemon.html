{% extends 'base.html' %}


{% block head %} 
    <title>{{Pokemon['forms'][0]['name'].capitalize()}} Pok√©dex Entery</title> 
{% endblock %}


{% block body %}

    <!-- At some point add in a 'move to next numerical pokemon button and 'move to previous numerical pokemon button' -->

    <div class = 'next-prev-container'>
        <div class="next-prev">
            <form action="{{ url_for('getNewPokemonbyNumber')}}" method = "POST" >
                <button class = 'pokemonIndexLink' type="submit" name = newNumber value="{{prevMon['id']}}"> &#8592 #{{prevMon['id']}} {{prevMon['name']}} </button>
            </form>
        </div>
        <div class="next-prev">
            <form action="{{ url_for('getNewPokemonbyNumber')}}" method = "POST" >
                <button class = 'pokemonIndexLink' type="submit" name = newNumber value="{{nextMon['id']}}"> {{nextMon['name']}} #{{nextMon['id']}} &#8594</button>
            </form>
        </div>
    </div>

    <h2 class='pokename'>{{Pokemon['forms'][0]['name']}}</h2>
    <img class='pokeimage' src = "https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/{{Pokemon['id']}}.png">



    <h3> Pokedex Data </h3>

    <div class="pokedexDataContainer">
        <div class="pokedexsubfield">
            <p>National Dex #:</p>
            <p>{{Pokemon['id']}}</p>
        </div>

        <div class="pokedexsubfield">
            <p>Species:</p>
            <p>{{Pokemon['species']}}</p>
        </div>

        <div class="pokedexsubfield">
            <p>Height:</p>
            <p>{{Pokemon['height']}}</p>
        </div>

        <div class="pokedexsubfield">
            <p>Weight:</p>
            <p>{{Pokemon['weight']}}</p>
        </div>

        <div class="pokedexsubfield">
            <p>Egg Group:</p>
            {% for item in Pokemon['egg_groups'] %}
                <p>{{item['name']}}</p>
            {% endfor %}
        </div>

        <div class="pokedexsubfield">
            <p>Type(s):</p>
            {% for item in Pokemon['types'] %}
                <!-- There's probably a better way to do this -->
                {% if item['type']['name'] == "grass" %}
                    <p class="grass-type">{{item['type']['name']}}</p>
                {% elif item['type']['name'] == "water" %}
                    <p class="water-type">{{item['type']['name']}}</p>
                {% elif item['type']['name'] == "fire" %}
                    <p class="fire-type">{{item['type']['name']}}</p>
                {% elif item['type']['name'] == "bug" %}
                    <p class="bug-type">{{item['type']['name']}}</p>
                {% elif item['type']['name'] == "poison" %}
                    <p class="poison-type">{{item['type']['name']}}</p>
                {% elif item['type']['name'] == "electric" %}
                    <p class="electric-type">{{item['type']['name']}}</p>
                {% elif item['type']['name'] == "dragon" %}
                    <p class="dragon-type">{{item['type']['name']}}</p>
                {% elif item['type']['name'] == "fighting" %}
                    <p class="fight-type">{{item['type']['name']}}</p>
                {% elif item['type']['name'] == "ground" %}
                    <p class="ground-type">{{item['type']['name']}}</p>
                {% elif item['type']['name'] == "flying" %}
                    <p class="flying-type">{{item['type']['name']}}</p>
                {% elif item['type']['name'] == "steel" %}
                    <p class="steel-type">{{item['type']['name']}}</p>
                {% elif item['type']['name'] == "fairy" %}
                    <p class="fairy-type">{{item['type']['name']}}</p>
                {% elif item['type']['name'] == "psychic" %}
                    <p class="psychic-type">{{item['type']['name']}}</p>
                {% elif item['type']['name'] == "ghost" %}
                    <p class="ghost-type">{{item['type']['name']}}</p>
                {% elif item['type']['name'] == "dark" %}
                    <p class="dark-type">{{item['type']['name']}}</p>
                {% elif item['type']['name'] == "rock" %}
                    <p class="rock-type">{{item['type']['name']}}</p>
                {% elif item['type']['name'] == "normal" %}
                    <p class="normal-type">{{item['type']['name']}}</p>
                {% elif item['type']['name'] == "ice" %}
                    <p class="ice-type">{{item['type']['name']}}</p>
                {% else %}
                    <p>{{item['type']['name']}}</p>
                {% endif %}
            {% endfor %}
        </div>


        <div class="pokedexsubfield">
            <p>Abilities:</p>
            <div class="pokeabilities">
                {% for item in Pokemon['abilities'] %}
                    {% if item['is_hidden'] == True %}
                        <p>{{item['ability']['name']}} <span>(H.A.)</span></p>
                    {% else %}
                        <p>{{item['ability']['name']}}</p>
                    {% endif %}
                {% endfor %}
            </div>
        </div>

    </div>

    <h3>Training</h3>
    <div class = "trainingContainer">
        <div class="pokedexsubfield">
            <p>Catch Rate:</p>
            <p>{{Pokemon['catch_rate']}}</p>
        </div>

        <div class="pokedexsubfield">
            <p>Base Happiness:</p>
            <p>{{Pokemon['base_happiness']}}</p>
        </div>

        <div class="pokedexsubfield">
            <p>Base Experience:</p>
            <p>{{Pokemon['base_experience']}}</p>
        </div>

        <div class="pokedexsubfield">
            <p>Growth Rate:</p>
            <p>{{Pokemon['growth_rate']['name']}}</p>
        </div>
    </div>

    <h3>Stats</h3>
    <div class="pokestats">
        {% for item in Pokemon['stats'] %}
            {% if item['base_stat'] < 60 %}
                <p class="stat-title">{{item['stat']['name']}} : <span style="color:red">{{item['base_stat']}}</span></p>
            {% elif item['base_stat'] < 90 %}
                <p class="stat-title">{{item['stat']['name']}} : <span style="color:orange">{{item['base_stat']}}</span></p>
            {% elif item['base_stat'] < 125 %}
                <p class="stat-title">{{item['stat']['name']}} : <span style="color:green">{{item['base_stat']}}</span></p>
            {% else %}
                <p class="stat-title">{{item['stat']['name']}} :  <span style="color:cyan">{{item['base_stat']}}</span></p>
            {% endif %}
        {% endfor %}
    </div>

    <h3>Evolution Line</h3>
    <div class = 'evolutionContainer'>
        
        <div style="margin: auto 0;">
            <form action="{{ url_for('getNewPokemonbyNumber')}}" method = "POST" >
                <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/{{Pokemon['evolution_chain']['smallestMonId']}}.png" alt="">
                <button class = 'pokemonIndexLink' type="submit" name = newNumber value="{{Pokemon['evolution_chain']['smallestMonId']}}"> {{Pokemon['evolution_chain']['smallestMon']}} </button>
            </form>  
        </div>

        <div style="margin: auto 0;">
            {% for item in Pokemon['evolution_chain']['midMon'] %}
                <div class='pokemon-evolution'>
                    
                    <div class='pokemon-evolution-arrow-and-level'>    
                        <p> &#8594;</p>
                        <!-- LEVEL UP CHECK -->
                        {% if item['level_up_trigger'] == 'level-up' %}
                            {% if item['location'] != None %}
                                <p>lvl up at {{item['location']['name']}}</p>
                            {% elif item['happiness'] != None %}
                                <p>High Happiness</p>
                            {% elif item['affection'] != None %}
                                <p>High Affection</p>
                            {% elif item['beauty'] != None %}
                                <p>High Beauty</p>
                            {% else%}
                                <p>lvl. {{item['level']}}</p>
                            {% endif %}
                        <!-- ITEM CHECK -->
                        {% elif item['level_up_trigger'] == 'use-item' %}
                            {% if item['item'] == None %}
                                <p>Use Item</p>
                            {% else%}
                                <p>{{item['item']}}</p>
                            {% endif %}
                        <!-- TRADE CHECK -->
                        {% elif item['level_up_trigger'] == 'trade' %}
                            {% if item['trade_species'] != None %}
                                <p>Trade w/ {{item['trade_species']['name']}}</p>
                            {% elif item['held_item'] != None %}
                                <p>Trade holding {{item['held_item']}}</p>
                            {% else %}
                                <p>Trade</p>
                            {% endif %}
                        {% endif %}
                    </div>

                    <div>
                        <form action="{{ url_for('getNewPokemonbyNumber')}}" method = "POST" >
                            <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/{{item['id']}}.png" alt="">
                            <button class = 'pokemonIndexLink' type="submit" name = newNumber value="{{item['id']}}"> {{item['name']}} </button>
                        </form>
                    </div>
                </div>
            {% endfor %}
        </div>

        <div style="margin: auto 0;">
            {% for item in Pokemon['evolution_chain']['bigMon'] %}
                <div class='pokemon-evolution'>
                    
                    <div class='pokemon-evolution-arrow-and-level'>    
                        <p> &#8594;</p>
                        <!-- LEVEL UP CHECK -->
                        {% if item['level_up_trigger'] == 'level-up' %}
                            {% if item['location'] != None %}
                                <p>lvl up at {{item['location']['name']}}</p>
                            {% elif item['happiness'] != None %}
                                <p>High Happiness</p>
                            {% elif item['affection'] != None %}
                                <p>High Affection</p>
                            {% elif item['beauty'] != None %}
                                <p>High Beauty</p>
                            {% else%}
                                <p>lvl. {{item['level']}}</p>
                            {% endif %}
                        <!-- ITEM CHECK -->
                        {% elif item['level_up_trigger'] == 'use-item' %}
                            {% if item['item'] == None %}
                                <p>Use Item</p>
                            {% else%}
                                <p>{{item['item']}}</p>
                            {% endif %}
                        <!-- TRADE CHECK -->
                        {% elif item['level_up_trigger'] == 'trade' %}
                            {% if item['trade_species'] != None %}
                                <p>Trade w/ {{item['trade_species']['name']}}</p>
                            {% elif item['held_item'] != None %}
                                <p>Trade holding {{item['held_item']}}</p>
                            {% else %}
                                <p>Trade</p>
                            {% endif %}
                        {% endif %}
                    </div>

                    <div>
                        <form action="{{ url_for('getNewPokemonbyNumber')}}" method = "POST" >
                            <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/{{item['id']}}.png" alt="">
                            <button class = 'pokemonIndexLink' type="submit" name = newNumber value="{{item['id']}}"> {{item['name']}} </button>
                        </form>
                    </div>
                </div>
            {% endfor %}
        </div>

    </div>




    <h3>Moves</h3>
    <!-- egg, machine-->
    
    <h4>Level Up Moves</h4>
        <div class = 'singleLevelUpMoveContainer'>
            <p>lvl.</p>
            <p>Move</p>
            <p>Type</p>
            <p>Cat.</p>
            <p>Power</p>
            <p>PP</p>
        </div>
        {% for item in Pokemon['moves'] %}
            {% if item['move_learn_method'] == 'level-up' %}
                <div class = 'singleLevelUpMoveContainer'>
                    <p> {{item['level_learned_at']}}</p>
                    <p> {{item['name']}} </p>
                    <p> {{item['type']}} </p>
                    <p> {{item['damage_class']}} </p>
                    <p> {{item['power']}} </p>
                    <p> {{item['pp']}} </p>
                </div>
            {% endif %}
        {% endfor %}

    <h4>Egg Moves</h4>
    <div class = 'singleLevelUpMoveContainer'>
        <p>Move</p>
        <p>Type</p>
        <p>Cat.</p>
        <p>Power</p>
        <p>PP</p>
    </div>
    {% for item in Pokemon['moves'] %}
        {% if item['move_learn_method'] == 'egg' %}
            <div class = 'singleLevelUpMoveContainer'>
                <p> {{item['name']}} </p>
                <p> {{item['type']}} </p>
                <p> {{item['damage_class']}} </p>
                <p> {{item['power']}} </p>
                <p> {{item['pp']}} </p>
            </div>
        {% endif %}
    {% endfor %}

    <h4>TM Moves</h4>
    <div class = 'singleLevelUpMoveContainer'>
        <!-- Add TM number -->
        <p>Move</p>
        <p>Type</p>
        <p>Cat.</p>
        <p>Power</p>
        <p>PP</p>
    </div>
    {% for item in Pokemon['moves'] %}
        {% if item['move_learn_method'] == 'machine' %}
            <div class = 'singleLevelUpMoveContainer'>
                <p> {{item['name']}} </p>
                <p> {{item['type']}} </p>
                <p> {{item['damage_class']}} </p>
                <p> {{item['power']}} </p>
                <p> {{item['pp']}} </p>
            </div>
        {% endif %}
    {% endfor %}

{% endblock %}